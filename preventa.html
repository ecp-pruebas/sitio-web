<!DOCTYPE html>
<html>
<head>
<title>Comprar</title>
<link rel="stylesheet" href="./style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
</head>

<header>
  <ul class="encabezado">
      <li><a href="./index.html">El Cine Probablemente</a></li>
      <li><a href="no-1.html">Número actual</a></li>
      <li><a href="preventa.html">Comprar</a></li>
      <li><a href="contacto.html">Contacto</a></li>
  </ul>
</header>

<br>

<body>

<h2>Comprar el primer número</h2>

<p>La revista tiene un precio por ejemplar de $250 MXN, sin envío.</p>

<p>Los medios de distribución varían según el lugar de entrega:</p>

<h3>Ciudad de México</h3>

<p>Venderemos ejemplares de la revista durante los siguientes eventos:</p>

<div class="indice">
<ul>
	<li>Proyección de <i>Un soupçon d'amour</i> en el Cine Tonalá el miércoles 27 de octubre entre las 18:00 PM y las 21:00 PM.</li>
	<li>Presentación del primer número de la revista en el Goethe Institut Mexiko el sábado 6 de noviembre a las 16:30 PM.</li>
	<li>Proyección de <i>Fluchtweg nach Marseille</i> en la Cineteca Nacional el domingo 7 de noviembre a las 12:30 PM.</li>
</ul>
</div>

<p>También podemos entregarte personalmente la revista en el parque Las Américas, en la colonia Narvarte Oriente, acordando previamente fecha y hora por correo electrónico.</p> 

<p>En caso de que ninguna de las opciones anteriores te resulte conveniente, no dudes en escribirnos por correo electrónico para acordar un punto de venta adecuado.</p>

<p>Si así lo deseas, podemos enviar la revista a la dirección que nos proporciones pagando mensajería, que tiene un costo de $70 MXN, lo que suma un total de $320 MXN por ejemplar. El tiempo de entrega es entre 3 y 5 días hábiles después de realizar el pago. Aceptamos pagos por PayPal o por transferencia bancaria. Al final de esta página encontrarás el enlace de PayPal para hacer el depósito (toma en cuenta que hay un ligero incremento de precio debido a las tarifas de PayPal). Si prefieres hacer una transferencia bancaria directa, escríbenos al siguiente correo para darte los datos bancarios pertinentes: elcineprobablemente.contacto@gmail.com </p>

<h3>Interior de la república mexicana</h3>
<p>Contamos con dos opciones de envío: en Estafeta, con la cual el precio por ejemplar es de $400 MXN (llega entre 3 y 5 días hábiles después del envío); y en Correos de México, con la cual el precio es de $313 MXN (llega entre 20 y 30 días hábiles después del envío). Si quieres comprar más de un ejemplar por envío, escríbenos para darte tarifas convenientes. Puedes realizar el pago por PayPal o por transferencia bancaria directa. Enviaremos el ejemplar entre 3 y 5 días hábiles después del pago. Al final de esta página encontrarás el enlace de PayPal. Si prefieres pagar por transferencia bancaria directa, escríbenos al siguiente correo para darte los datos bancarios pertinentes: elcineprobablemente.contacto@gmail.com</p>

<h3>Morelia, Michoacán</h3>	
<p>A los lectores de Morelia que quieran comprar la revista, podremos entregarla personalmente en esa ciudad para que no paguen costo de envío. Realizaremos la entrega a partir del 30 de octubre en un sitio a convenir. Escríbenos antes del 27 de octubre para apartar un ejemplar y acordar un punto de entrega en la ciudad. El número de ejemplares que entregaremos personalmente en Morelia es limitado, entonces a partir del 28 de octubre la opción queda sujeta a disponibilidad.</p>

<h3>Internacional</h3>
<p>El precio de la revista es $13 USD. Aceptamos transferencia por PayPal. Debido a que los precios de envío cambian considerablemente dependiendo del lugar de destino, escríbenos informando a dónde te gustaría que enviáramos la revista para ofrecerte costos y opciones de envío.</p>

<h2>PayPal</h2>

<p>Contamos con un enlace de PayPalMe para recibir pagos en línea. Debido a que PayPal cobra una comisión por transferencias, los montos que deben depositarse por cada opción de compra incrementan ligeramente:</p>

<div class="indice">
<ul>
	<li>El costo de un ejemplar más envío local en la Ciudad de México es de $340 MXN.</li>
	<li>El costo de un ejemplar más envío al interior de la república mexicana por Estafeta es de $418 MXN.</li>
	<li>El costo de un ejemplar más envío al interior de la república mexicana por Correos de México es de $328 MXN.</li>
</ul>
</div>

<p>Para realizar el pago a nuestra cuenta de PayPal, accede &nbsp;
<a href="https://paypal.me/elcineprobablemente?locale.x=en_US" target="_blank">aquí.</a> Si prefieres hacer una transferencia bancaria directa, escríbenos al siguiente correo para darte los datos bancarios pertinentes: elcineprobablemente.contacto@gmail.com</p>
	
<div id="smart-button-container">
      <div style="text-align: center;">
        <div style="margin-bottom: 1.25rem;">
          <p>Preventa de ECP no. 2</p>
          <select id="item-options"><option value="Envío local (CDMX)" price="285">Envío local (CDMX) - 285 MXN</option><option value="Enío al interior de la república" price="350">Enío al interior de la república - 350 MXN</option></select>
          <select style="visibility: hidden" id="quantitySelect"><option value="1">1</option><option value="2">2</option><option value="3">3</option></select>
        </div>
      <div id="paypal-button-container"></div>
      </div>
    </div>
    <script src="https://www.paypal.com/sdk/js?client-id=sb&enable-funding=venmo&currency=MXN" data-sdk-integration-source="button-factory"></script>
    <script>
      function initPayPalButton() {
        var shipping = 30;
        var itemOptions = document.querySelector("#smart-button-container #item-options");
    var quantity = parseInt(3);
    var quantitySelect = document.querySelector("#smart-button-container #quantitySelect");
    if (!isNaN(quantity)) {
      quantitySelect.style.visibility = "visible";
    }
    var orderDescription = 'Preventa de ECP no. 2';
    if(orderDescription === '') {
      orderDescription = 'Item';
    }
    paypal.Buttons({
      style: {
        shape: 'rect',
        color: 'black',
        layout: 'vertical',
        label: 'checkout',
        
      },
      createOrder: function(data, actions) {
        var selectedItemDescription = itemOptions.options[itemOptions.selectedIndex].value;
        var selectedItemPrice = parseFloat(itemOptions.options[itemOptions.selectedIndex].getAttribute("price"));
        var tax = (0 === 0 || false) ? 0 : (selectedItemPrice * (parseFloat(0)/100));
        if(quantitySelect.options.length > 0) {
          quantity = parseInt(quantitySelect.options[quantitySelect.selectedIndex].value);
        } else {
          quantity = 1;
        }

        tax *= quantity;
        tax = Math.round(tax * 100) / 100;
        var priceTotal = quantity * selectedItemPrice + parseFloat(shipping) + tax;
        priceTotal = Math.round(priceTotal * 100) / 100;
        var itemTotalValue = Math.round((selectedItemPrice * quantity) * 100) / 100;

        return actions.order.create({
          purchase_units: [{
            description: orderDescription,
            amount: {
              currency_code: 'MXN',
              value: priceTotal,
              breakdown: {
                item_total: {
                  currency_code: 'MXN',
                  value: itemTotalValue,
                },
                shipping: {
                  currency_code: 'MXN',
                  value: shipping,
                },
                tax_total: {
                  currency_code: 'MXN',
                  value: tax,
                }
              }
            },
            items: [{
              name: selectedItemDescription,
              unit_amount: {
                currency_code: 'MXN',
                value: selectedItemPrice,
              },
              quantity: quantity
            }]
          }]
        });
      },
      onApprove: function(data, actions) {
        return actions.order.capture().then(function(orderData) {
          
          // Full available details
          console.log('Capture result', orderData, JSON.stringify(orderData, null, 2));

          // Show a success message within this page, e.g.
          const element = document.getElementById('paypal-button-container');
          element.innerHTML = '';
          element.innerHTML = '<h3>Thank you for your payment!</h3>';

          // Or go to another URL:  actions.redirect('thank_you.html');

        });
      },
      onError: function(err) {
        console.log(err);
      },
    }).render('#paypal-button-container');
  }
  initPayPalButton();
    </script>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
</body>
